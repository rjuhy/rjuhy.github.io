<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ç”¨æˆ·ç™»å½•</title>
	<style>
		:root {
			--primary-color: #4a6fa5;
			--secondary-color: #6b8cbc;
			--accent-color: #ff7e5f;
			--light-color: #f8f9fa;
			--dark-color: #343a40;
			--success-color: #28a745;
			--error-color: #dc3545;
		}
		
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}
		
		body {
			background-color: #f5f7fa;
			color: var(--dark-color);
			line-height: 1.6;
			padding: 20px;
		}
		
		.container {
			max-width: 800px;
			margin: 0 auto;
		}
		
		header {
			text-align: center;
			margin-bottom: 2rem;
			padding: 1.5rem;
			background: white;
			border-radius: 10px;
			box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
		}
		
		h1 {
			color: var(--primary-color);
			margin-bottom: 0.5rem;
		}
		
		.subtitle {
			color: #6c757d;
			font-size: 1.1rem;
		}
		
		.card {
			background: white;
			border-radius: 10px;
			box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
			padding: 2rem;
			margin-bottom: 2rem;
		}
		
		.form-group {
			margin-bottom: 1.5rem;
		}
		
		label {
			display: block;
			margin-bottom: 0.5rem;
			font-weight: 600;
		}
		
		input, textarea, select {
			width: 100%;
			padding: 0.75rem;
			border: 1px solid #ddd;
			border-radius: 5px;
			font-size: 1rem;
			transition: border-color 0.3s;
		}
		
		input:focus, textarea:focus, select:focus {
			outline: none;
			border-color: var(--primary-color);
			box-shadow: 0 0 0 2px rgba(74, 111, 165, 0.2);
		}
		
		textarea {
			min-height: 120px;
			resize: vertical;
		}
		
		.btn {
			display: inline-block;
			background: var(--primary-color);
			color: white;
			padding: 0.75rem 1.5rem;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			font-size: 1rem;
			font-weight: 600;
			transition: all 0.3s;
		}
		
		.btn:hover {
			background: var(--secondary-color);
			transform: translateY(-2px);
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
		}
		
		.btn-block {
			display: block;
			width: 100%;
		}
		
		.response-area {
			margin-top: 2rem;
			padding: 1rem;
			border-radius: 5px;
			display: none;
		}
		
		.success {
			background-color: rgba(40, 167, 69, 0.1);
			border: 1px solid var(--success-color);
			color: var(--success-color);
		}
		
		.error {
			background-color: rgba(220, 53, 69, 0.1);
			border: 1px solid var(--error-color);
			color: var(--error-color);
		}
		
		.info {
			background-color: rgba(23, 162, 184, 0.1);
			border: 1px solid #17a2b8;
			color: #17a2b8;
		}
		
		.stored-data {
			margin-top: 2rem;
		}
		
		.data-item {
			background: white;
			border-left: 4px solid var(--primary-color);
			padding: 1.5rem;
			margin-bottom: 1rem;
			border-radius: 0 5px 5px 0;
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
			transition: transform 0.2s;
		}
		
		.data-item:hover {
			transform: translateY(-3px);
			box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
		}
		
		.data-item h3 {
			margin-bottom: 0.5rem;
			color: var(--primary-color);
		}
		
		.data-item p {
			margin-bottom: 0.25rem;
		}
		
		.error-message {
			color: var(--error-color);
			font-size: 0.875rem;
			margin-top: 0.25rem;
			display: none;
		}
		
		.special-note {
			color: var(--accent-color);
			font-weight: 600;
			margin-top: 0.5rem;
		}
		
		.egg-indicator {
			display: inline-block;
			background-color: var(--accent-color);
			color: white;
			font-size: 0.7rem;
			padding: 0.2rem 0.5rem;
			border-radius: 10px;
			margin-left: 0.5rem;
			vertical-align: middle;
		}
		
		.hint {
			text-align: center;
			margin-top: 1rem;
			color: #6c757d;
			font-style: italic;
		}
		
		footer {
			text-align: center;
			margin-top: 2rem;
			padding: 1rem;
			color: #6c757d;
			font-size: 0.9rem;
		}
		
		@media (max-width: 600px) {
			.container {
				padding: 0;
			}
			
			.card {
				padding: 1.5rem;
			}
		}
	</style>
</head>
<body>
	<div class="container">
		<header>
			<h1>ç”¨æˆ·ç™»å½•ç³»ç»Ÿ</h1>
			<p class="subtitle">æäº¤æ‚¨çš„ä¿¡æ¯</p>
		</header>
		
		<div class="card">
			<h2>æäº¤æ‚¨çš„ä¿¡æ¯</h2>
			<form id="userForm">
				<div class="form-group">
					<label for="name">å§“å</label>
					<input type="text" id="name" name="name" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å" required>
					<div class="error-message" id="nameError">è¯·è¾“å…¥æœ‰æ•ˆçš„å§“å</div>
				</div>
				
				<div class="form-group">
					<label for="email">ç”µå­é‚®ç®±</label>
					<input type="email" id="email" name="email" placeholder="è¯·è¾“å…¥æ‚¨çš„ç”µå­é‚®ç®±" required>
					<div class="error-message" id="emailError">è¯·è¾“å…¥æœ‰æ•ˆçš„ç”µå­é‚®ç®±åœ°å€</div>
				</div>
				
				<div class="form-group">
					<label for="category">ç±»åˆ«</label>
					<select id="category" name="category" required>
						<option value="">è¯·é€‰æ‹©ç±»åˆ«</option>
						<option value="personal">ä¸ªäºº</option>
						<option value="business">å•†åŠ¡</option>
						<option value="education">æ•™è‚²</option>
						<option value="other">å…¶ä»–</option>
					</select>
					<div class="error-message" id="categoryError">è¯·é€‰æ‹©ä¸€ä¸ªç±»åˆ«</div>
				</div>
				
				<div class="form-group">
					<label for="message">æ¶ˆæ¯</label>
					<textarea id="message" name="message" placeholder="è¯·è¾“å…¥æ‚¨æƒ³ä¿å­˜çš„ä¿¡æ¯..." required></textarea>
					<div class="error-message" id="messageError">æ¶ˆæ¯å†…å®¹ä¸èƒ½ä¸ºç©º</div>
				</div>
				
				<button type="submit" class="btn btn-block">æäº¤ä¿¡æ¯</button>
			</form>
			
			<p class="hint">æç¤ºï¼šè¾“ä½ çš„QQé‚®ç®±ğŸ‘€</p>
			
			<div id="responseArea" class="response-area"></div>
		</div>
		
		<div class="card stored-data">
			<h2>å·²å­˜å‚¨çš„æ•°æ®</h2>
			<div id="storedDataList">
				<!-- å­˜å‚¨çš„æ•°æ®å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
			</div>
		</div>
		
		<footer>
			<p>æˆ‘æ˜¯å¤‡æ¡ˆå· &copy; 2025</p>
		</footer>
	</div>

	<script>
		document.addEventListener('DOMContentLoaded', function() {
			const form = document.getElementById('userForm');
			const responseArea = document.getElementById('responseArea');
			const storedDataList = document.getElementById('storedDataList');
			
			// ç‰¹æ®Šé‚®ç®±åˆ—è¡¨ - è¿™äº›é‚®ç®±ä¼šè§¦å‘å½©è›‹
			const specialEmails = [
				"3501592418@qq.com",
				"vip@example.com",
				"test@example.com",
				"special@example.com",
				"hello@world.com"
				
			];
			
			// ä»localStorageåŠ è½½å·²å­˜å‚¨çš„æ•°æ®
			loadStoredData();
			
			form.addEventListener('submit', function(e) {
				e.preventDefault();
				
				// æ¸…é™¤ä¹‹å‰çš„é”™è¯¯ä¿¡æ¯
				clearErrors();
				
				// éªŒè¯è¡¨å•
				if (validateForm()) {
					// è·å–è¡¨å•æ•°æ®
					const formData = {
						name: document.getElementById('name').value,
						email: document.getElementById('email').value,
						category: document.getElementById('category').value,
						message: document.getElementById('message').value,
						timestamp: new Date().toLocaleString()
					};
					
					// æ£€æŸ¥æ˜¯å¦ä¸ºç‰¹æ®Šé‚®ç®±
					const isSpecialEmail = checkSpecialEmail(formData.email);
					
					// å¦‚æœæ˜¯ç‰¹æ®Šé‚®ç®±ï¼Œåœ¨æ¶ˆæ¯åæ·»åŠ "www"å½©è›‹
					if (isSpecialEmail) {
						formData.message += "å–µ~";
						formData.hasEgg = true; // æ ‡è®°è¿™æ¡æ•°æ®æœ‰å½©è›‹
					}
					
					// æ˜¾ç¤ºåŠ è½½çŠ¶æ€
					showResponse('æ­£åœ¨æäº¤æ•°æ®...', 'info');
					
					// æ¨¡æ‹ŸæœåŠ¡å™¨è¯·æ±‚
					simulateServerRequest(formData)
						.then(response => {
							// ä¿å­˜æ•°æ®åˆ°localStorage
							saveToStorage(formData);
							
							// æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
							let successMsg = 'æ•°æ®å·²æˆåŠŸä¿å­˜ï¼';

							showResponse(successMsg, 'success');
							
							// é‡æ–°åŠ è½½å­˜å‚¨çš„æ•°æ®
							loadStoredData();
							
							// é‡ç½®è¡¨å•
							form.reset();
						})
						.catch(error => {
							showResponse('ä¿å­˜æ•°æ®æ—¶å‡ºé”™ï¼š' + error.message, 'error');
						});
				}
			});
			
			function validateForm() {
				let isValid = true;
				
				// éªŒè¯å§“å
				const name = document.getElementById('name').value.trim();
				if (name.length < 2) {
					showError('nameError', 'å§“åè‡³å°‘éœ€è¦2ä¸ªå­—ç¬¦');
					isValid = false;
				}
				
				// éªŒè¯é‚®ç®±
				const email = document.getElementById('email').value.trim();
				const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
				if (!emailRegex.test(email)) {
					showError('emailError', 'è¯·è¾“å…¥æœ‰æ•ˆçš„ç”µå­é‚®ç®±åœ°å€');
					isValid = false;
				}
				
				// éªŒè¯ç±»åˆ«
				const category = document.getElementById('category').value;
				if (!category) {
					showError('categoryError', 'è¯·é€‰æ‹©ä¸€ä¸ªç±»åˆ«');
					isValid = false;
				}
				
				// éªŒè¯æ¶ˆæ¯
				const message = document.getElementById('message').value.trim();
				if (message.length < 5) {
					showError('messageError', 'æ¶ˆæ¯å†…å®¹è‡³å°‘éœ€è¦5ä¸ªå­—ç¬¦');
					isValid = false;
				}
				
				return isValid;
			}
			
			function showError(elementId, message) {
				const errorElement = document.getElementById(elementId);
				errorElement.textContent = message;
				errorElement.style.display = 'block';
			}
			
			function clearErrors() {
				const errorElements = document.querySelectorAll('.error-message');
				errorElements.forEach(element => {
					element.style.display = 'none';
				});
			}
			
			function showResponse(message, type) {
				responseArea.textContent = message;
				responseArea.className = 'response-area';
				responseArea.classList.add(type);
				responseArea.style.display = 'block';
				
				// å¦‚æœæ˜¯æˆåŠŸæ¶ˆæ¯ï¼Œ5ç§’åè‡ªåŠ¨éšè—
				if (type === 'success') {
					setTimeout(() => {
						responseArea.style.display = 'none';
					}, 5000);
				}
			}
			
			// æ£€æŸ¥æ˜¯å¦ä¸ºç‰¹æ®Šé‚®ç®±
			function checkSpecialEmail(email) {
				return specialEmails.includes(email.toLowerCase());
			}
			
			// æ¨¡æ‹ŸæœåŠ¡å™¨è¯·æ±‚
			function simulateServerRequest(data) {
				return new Promise((resolve, reject) => {
					// æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
					setTimeout(() => {
						// æ¨¡æ‹Ÿ90%çš„æˆåŠŸç‡
						if (Math.random() > 0.1) {
							resolve({ success: true, message: 'æ•°æ®ä¿å­˜æˆåŠŸ' });
						} else {
							reject(new Error('æœåŠ¡å™¨æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•(ä¸ºæ¯›ä¿å­˜åˆ°æœ¬åœ°ä¼šæœ‰æŠ¥é”™çš„ä¸œè¥¿ï¼Ÿ)'));
						}
					}, 1500);
				});
			}
			
			function saveToStorage(data) {
				// è·å–ç°æœ‰æ•°æ®æˆ–åˆå§‹åŒ–ç©ºæ•°ç»„
				const storedData = JSON.parse(localStorage.getItem('userData')) || [];
				
				// æ·»åŠ æ–°æ•°æ®
				storedData.push(data);
				
				// ä¿å­˜å›localStorage
				localStorage.setItem('userData', JSON.stringify(storedData));
			}
			
			function loadStoredData() {
				// ä»localStorageè·å–æ•°æ®
				const storedData = JSON.parse(localStorage.getItem('userData')) || [];
				
				// æ¸…ç©ºç°æœ‰æ˜¾ç¤º
				storedDataList.innerHTML = '';
				
				// å¦‚æœæ²¡æœ‰æ•°æ®ï¼Œæ˜¾ç¤ºæç¤º
				if (storedData.length === 0) {
					storedDataList.innerHTML = '<p>æš‚æ— å­˜å‚¨çš„æ•°æ®</p>';
					return;
				}
				
				// æ˜¾ç¤ºæ•°æ®ï¼ˆæœ€æ–°çš„åœ¨å‰é¢ï¼‰
				storedData.reverse().forEach((item, index) => {
					const dataItem = document.createElement('div');
					dataItem.className = 'data-item';
					
					// å¦‚æœæœ‰å½©è›‹ï¼Œæ·»åŠ ç‰¹æ®Šæ ‡è®°
					const eggIndicator = item.hasEgg ? '<span class="egg-indicator"></span>' : '';
					
					dataItem.innerHTML = `
						<h3>${item.name}</h3>
						<p><strong>é‚®ç®±:</strong> ${item.email}</p>
						<p><strong>æ¶ˆæ¯:</strong> ${item.message}</p>
						<p><strong>æäº¤æ—¶é—´:</strong> ${item.timestamp}</p>

					`;
					storedDataList.appendChild(dataItem);
				});
			}
		});
	</script>
</body>
</html>
